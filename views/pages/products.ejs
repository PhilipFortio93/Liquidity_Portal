<!doctype html>
<html>
    <%if (user.role === "admin") { %>
        <% include ../partials/sidebar %>
    <% } %>
<head>
    <% include ../partials/head %>
</head>
<body>

<header>
    <% include ../partials/header %>
</header>

<div class="container">


    <div class="row">

        <!-- LOCAL INFORMATION -->
    <h3><span class="fa fa-user"></span> Product Catalogue</h3>

        <table id="productlist">
            <thead>
                 <tr>
                    <th>Ric</th>
                    <th>Issuer</th>
                    <th>Name</th>
                    <th>Min Creation Size</th>
                    <th>Creation Cost</th>
                    <th>Redemption Cost</th>
                    <th>Cut Off Time</th>
                 </tr>
             </thead>
            <tbody>
                <% etf_list.forEach(function(etf) { %>
                <tr id="row-style">
                    <td><a href="/products/<%=etf._id%>"><%= etf.ticker %></a></td>
                    <td><%= etf.provider %></td>
                    <td><%= etf.name %></td>
                    <td><%= etf.minsize %></td>
                    <td><%= etf.creation_cost %></td>
                    <td><%= etf.redemption_cost %></td>
                    <td><%= etf.cutoff %></td>

                </tr>
                <% }); %>
            </tbody>
        </table>

    </div>

</div>

<footer>
    <% include ../partials/footer %>
</footer>

</body>
<script>
    

    
    $(document).ready(function() {

        $ ('#productlist').DataTable({
            "pageLength": 50,
            "columnDefs": [ {
                "targets": 3,
                "render": $.fn.dataTable.render.number(',', '.', 0, '')
                },{
                 "targets": 4,
                "render": $.fn.dataTable.render.number(',', '.', 1, '')                   
                },{
                 "targets": 5,
                "render": $.fn.dataTable.render.number(',', '.', 1, '')                   
                }  ]
        });


    });
</script>
</html>